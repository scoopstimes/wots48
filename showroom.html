<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>48Intens Official</title>
    <link rel="stylesheet" href="./css/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <meta name="author" content="48Intens Official" />
    <link href='https://fonts.googleapis.com/css?family=Quicksand' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Zen Maru Gothic' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Barlow Condensed' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.3.67/css/materialdesignicons.min.css">

    <link rel="icon" href="/assets/icon.png" />

</head>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #1a2130;
    }

    .card {
        max-width: 600px;
        margin: 0 auto;
    }

    #watermark {
        position: absolute;
        bottom: 10px;
        right: 10px;
        width: 50px;
        opacity: 0.8;
        pointer-events: none;
        z-index: 10;
    }

    .card-body {
        padding: 20px;
        background-color: #4b5f83;
        border-radius: 20px;
    }

    #video-container {
        position: relative;
        overflow: hidden;
    }

    #video {
        width: 100%;
        height: auto;
    }

    #quality-wrapper {
        text-align: center;
        margin-top: 10px;
    }

    #quality-list {
        padding: 0;
    }

    #quality-list li {
        display: inline-block;
        margin-right: 10px;
        cursor: pointer;
    }

    #quality-list li:last-child {
        margin-right: 0;

    }
</style>
</head>

<body class="text-center">

<div class="section">
  <div class="container">
    <h1 class="titleup"> <span id="liveMemberName"></span></h1>

    <p id="startDate"></p>
    <p id="startTime"></p>
    <p id="liveType"></p> <!-- Menambahkan elemen untuk menampilkan jenis live -->
    <br>
    <hr><br>
    <div class="card">
      <div style="background: transparent;width: 100%;" id="video-container">
        <video id="video" class="card-img-top" style="max-width: 100%;" controls autoplay muted></video>
      </div>
    </div>
    <br>
    <hr><br>
  </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
      
  // Ambil parameter URL dari hash
  const urlParams = new URLSearchParams(window.location.hash.substring(1));
  const videoUrl = urlParams.get('url');
  const memberName = urlParams.get('name');
 
  const startDate = urlParams.get('start_date');
  const liveType = urlParams.get('type'); // Menambahkan parameter untuk tipe live (IDN atau Showroom)

  // Periksa apakah videoUrl sudah terisi dengan benar
  if (videoUrl) {
    const videoElement = document.getElementById('video');
    videoElement.src = videoUrl;  // Set video URL
    videoElement.style.display = 'block';  // Tampilkan video
  } else {
    console.error('Video URL tidak ditemukan!');
  }

  // Menampilkan informasi tambahan seperti nama member, jumlah viewers, dll.
  document.getElementById('liveMemberName').textContent = memberName || 'Nama Tidak Ditemukan';
  

  if (startDate) {
    const date = new Date(decodeURIComponent(startDate));

    // Format Tanggal
    const formattedDate = date.toLocaleDateString('id-ID', { 
      year: 'numeric', 
      month: 'long', 
      day: 'numeric' 
    });

    // Format Jam
    const formattedTime = date.toLocaleTimeString('id-ID', { 
      hour: '2-digit', 
      minute: '2-digit' 
    });

    // Menampilkan Tanggal dan Jam secara terpisah
    document.getElementById('startDate').textContent = `Dimulai pada Tanggal: ${formattedDate}`;
    document.getElementById('startTime').textContent = `Dimulai pada jam: ${formattedTime}`;
  } else {
    document.getElementById('startDate').textContent = 'Tanggal tidak diketahui';
    document.getElementById('startTime').textContent = 'Jam tidak diketahui';
  }

  // Menampilkan jenis live (IDN atau Showroom)
  document.getElementById('liveType').textContent = `Platform Live: ${liveType ? liveType.charAt(0).toUpperCase() + liveType.slice(1) : 'Tidak Diketahui'}`;
});
</script>
    <br>
    <br>
    <br>
            <footer>
                By <a style="text-decoration:none" href=""> Januar Adhi N</a>

                <br>
            </footer>

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js"></script>
    <script src="https://48streams.vercel.app/player/mousetrap.min.js" charset="utf-8"></script>
    <script src="script/nowlive.js"></script>
    <script src="/middleware/middleware.js"></script>
    <script src="script/player.js"></script>
    <script src="script/inject.js"></script>
    <script src="../script/main.js"></script>
</body>

</html>
