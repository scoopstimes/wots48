<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JEKATE48 fanmade Website</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="/assets/css/home.css" rel="stylesheet">
    <link rel="icon" href="/assets/css/image/favlogo.png" />
        <link rel="stylesheet" href="./css/style.css" />
    <meta name="author" content="JEKATE48">
    <meta property="og:title" content="JEKATE48">
    <meta property="og:image:height" content="961">
    <meta property="og:image:width" content="1905">
    <meta property="og:type" content="website">
    <meta property="og:image"
        content="https://cdn.discordapp.com/attachments/989168672708919317/1312702801561784430/jekate.png?ex=674d7540&is=674c23c0&hm=9ea5ecf4eb8348721762f134b4a30affbb5adcf3020bbb79b46a830dc1266520&">
    <meta property="og:title" content="JEKATE48">
    <meta name="description" content="EXPERIENCE THE MAGIC OF JKT48, ANYTIME, ANYWHERE">
    <meta property="og:description" content="EXPERIENCE THE MAGIC OF JKT48, ANYTIME, ANYWHERE">
            <link href='https://fonts.googleapis.com/css?family=Quicksand' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Zen Maru Gothic' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Barlow Condensed' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.3.67/css/materialdesignicons.min.css">

</head>
<body>

  
          <nav>
                <div class="navbar-container">

                                 <button class="buttongoweb" onclick="goToLink('/home')">
                                         <div class="navbar-box" ontouchstart="addOverlayNavbar(event)" ontouchend="removeOverlayNavbar(event)" ontouchcancel="removeOverlayNavbar(event)">
                                                 <div class="overlay-navbar"></div>
                                                 <span class="mdi mdi-home"></span>
                                                 <h1>Home</h1>
                                         </div>
                                 </button>
                       <div class="navbar-box" ontouchstart="addOverlayNavbar(event)" ontouchend="removeOverlayNavbar(event)" ontouchcancel="removeOverlayNavbar(event)">
                          <div class="overlay-navbar"></div>
                          <span class="mdi mdi-history active" style="color: #white;background: #6C6C6C80;
                                border-radius: 50%;
                                width: 25px;
                                height: 25px;"></span>
                          <h1>Recent</h1>

                        </div>

                       <button class="buttongoweb" onclick="goToLink('/member')"><div class="navbar-box"ontouchstart="addOverlayNavbar(event)" ontouchend="removeOverlayNavbar(event)" ontouchcancel="removeOverlayNavbar(event)">                                                        <div class="overlay-navbar"></div>
                                <span class="mdi mdi-account-group"></span>
                                <h1>Member</h1>
                        </div>
                       </button>
                       <button class="buttongoweb" onclick="goToLink('/news')"><div class="navbar-box"ontouchstart="addOverlayNavbar(event)" ontouchend="removeOverlayNavbar(event)" ontouchcancel="removeOverlayNavbar(event)">                                                        <div class="overlay-navbar"></div>
                                <span class="mdi mdi-newspaper-variant"></span>
                                <h1>News</h1>
                        </div>
                       </button>


                       <button class="buttongoweb" onclick="goToLink('/event')"><div class="navbar-box"ontouchstart="addOverlayNavbar(event)" ontouchend="removeOverlayNavbar(event)" ontouchcancel="removeOverlayNavbar(event)">                                                        <div class="overlay-navbar"></div>
                                <span class="mdi mdi-clipboard-text-clock"></span>
                                <h1>Theather</h1>
                        </div>
                        
                </div>
        </nav>
  

<div style="width: 100%; display: flex; flex-direction: column;justify-content: center; padding: 10px;">
                <div class="header_app" style="height: 50px;">

      <div class="header_logo">
    <button class="buttongoweb" onclick="goToLink('live.html')"><span class="mdi mdi-chevron-left"></span>    </button>

      <span style="font-size: 20px; font-weight: 700; font-family: 'Zen Maru Gothic';margin-left: 10px;"  >Detail Recent</span>
      </div>
                </div>
          <button class="buttongoweb" onclick="goToLink('https://youtu.be/Ztg79dr34n4?si=TDiW-J8Wd32P-AxA')">
             <img src="assets/banner-mv-bym.jpeg" style="object-fit: cover; width: 100%; height: 150px; margin-top: 45px;opacity: 0.9;">
          </button>
        <div class="profile" style="display: flex; align-items: center; margin-top: 10px;">

            <img id="profile-img" src="" alt="Member Profile" style="width: 70px; height: 70px; object-fit: cover; border-radius: 50%; margin-right: 1rem;box-shadow: 2px black;">
            <div>
                <h1 id="member-name" style="font-size: 1.5rem; font-family: 'Quicksand';"></h1>
                <span class="badge" id="badge" style="background: linear-gradient(to right, #f9a8d4, #d8b4fe, #67e8f9); padding:  3px 10px; border-radius: 10px; color: #fff; font-size: 0.8rem;"></span>

            </div>
        </div>
<div style="display: flex; width: 100%; flex-direction: column;gap: 10px;margin-top: 15px;">
  <div style="display: flex; width: 100%; background-color: #323D54; justify-content: left; align-items: left; padding: 15px; border-radius: 20px;">
    <span style="font-size: 37px;color: #FF3E3E;" class="mdi mdi-clipboard-text-clock"></span>
    <div style="width: 84%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
      <h1 style="font-size: 21px;font-family: 'Zen Maru Gothic';" id="live-date"></h1>
          <div style="width: 100%; display: flex; justify-content: center; align-items: center; gap: 5px;">
      <span id="live-time" style="font-size: 13px; opacity: 0.8;"></span>
      <span  style="font-size: 13px; opacity: 0.8;">-</span>
      <span id="live-end-time" style="font-size: 13px; opacity: 0.8;"></span>

    </div>
    </div>
  </div>
    <div style="display: flex; width: 100%; background-color: #323D54; justify-content: left; align-items: left; padding: 15px; border-radius: 20px;">
          <span style="font-size: 37px;color:#FFE52D;" class="mdi mdi-timer"></span>
    <div style="width: 84%; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center;">
      <h1 style="font-size: 21px;font-family: 'Zen Maru Gothic';" id="live-duration"></h1>
      <span style="font-size: 11px; opacity: 0.8;">Durasi</span>
    </div>
    </div>
        <div style="display: flex; width: 100%;gap: 5px;">
    <div style="display: flex; width: 100%;border-radius: 15px; background: #323D54; gap: 10px; padding: 15px;justify-content: left; align-items: left;box-shadow: 1px black;">
      <span style="font-size: 30px;" class="mdi mdi-gift"></span>
      <div style="width: 85%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                  <h1 style="font-size: 17px;" id="gift"></h1>
                  <span style="font-family: 'Zen Maru Gothic';font-size: 12px; opacity: 0.8;">Gift</span>
      </div>

    </div>
        <div style="display: flex; width: 100%;border-radius: 15px; background: #323D54; gap: 10px; padding: 15px;justify-content: left; align-items: left;box-shadow: 1px black;">
      <span style="font-size: 30px;" class="mdi mdi-eye"></span>
      <div style="width: 85%; display: flex; flex-direction: column; justify-content: center;align-items: center;">
                  <h1 style="font-size: 17px;" id="viewers"></h1>
                  <span style="font-family: 'Zen Maru Gothic';font-size: 12px; opacity: 0.8;">View</span>
      </div>

    </div>

</div>
    <div style="display: flex; width: 100%; background-color: #323D54; justify-content: left; align-items: left; padding: 15px; border-radius: 20px;">
      <span style="font-size: 37px;color:#62F600;" class="mdi mdi-star-four-points-box"></span>
      <div style="width: 84%; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center;">
        <h1 style="font-size: 21px;font-family: 'Zen Maru Gothic';" id="title"></h1>
        <span style="font-size: 11px; opacity: 0.8;" id="bookstar"></span>
      </div>
    </div>
<div class="section">
  <div style="display:flex; align-items: center;gap: 10px;">
      <span style="font-size: 30px;" class="mdi mdi-history"></span>
<h1 style="font-size: 20px;">Other Recent Live</h1>
  </div>
    <div class="container"style="margin-top: -40px;width: 100%;justify-content: left;">
        <div class="flex-container">
            <!-- Tombol untuk menampilkan semua konten -->

            <!-- Box untuk Live IDN -->
            <div class="box-live" id="box-idn" style="background: transparent;">
                <h2 class="titleup"id="title-idn">

                </h2><br>
                <div id="liveList" style="display:flex;flex-direction:justify-content: left;margin-left: -15px;flex-direction: column;width: 110%;">
                    <!-- Content for Live Idn -->

                </div>

            </div>
            <div class="box-live" id="box-idn" style="background: transparent;">
                <h2 class="titleup"id="title-idn">

                </h2><br>
                <div id="liveListIdn" >
                    <!-- Content for Live Idn -->

                </div>

            </div>
            <!-- Box untuk Live Showroom -->
            <div class="box-live"  style="background: transparent;margin-top: -65px;">
                <h2 class="titleup" id="title-sr">
                </h2><br>
                <div id="liveListShowroom"style="display:flex;flex-direction:justify-content: left;margin-left: -15px;flex-direction: column;width: 110%;" >
                    <!-- Content for Live Showroom -->

                </div>
                <br><hr><br>
            </div>
        </div>
    </div>
</div>




    <script>
        document.addEventListener("DOMContentLoaded", function() {
  const urlParams = new URLSearchParams(window.location.search);
  const liveId = urlParams.get("id");
  const liveStart = urlParams.get("start");
  const liveEnd = urlParams.get("end");
  const gift = urlParams.get("gift");
  const view = urlParams.get("view");
  const nama = urlParams.get("nama");
  const image = urlParams.get("image");
  const points = urlParams.get("points");
  const type = urlParams.get("type");
  const title = urlParams.get("title");

  fetch(`https://api.crstlnz.my.id/api/live-details/${liveId}`)
    .then(response => response.json())
    .then(data => {
      const startDate = new Date(liveStart);
      const endDate = new Date(liveEnd);

      // Format tanggal, waktu, dan hari
      const options = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
      const formattedDate = startDate.toLocaleDateString('id-ID', options);

      const formattedStartTime = startDate.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }).replace('.', ':');
      const formattedEndTime = endDate.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }).replace('.', ':');

      document.getElementById("profile-img").src = `${image}` || "https://via.placeholder.com/80";
      document.getElementById("member-name").textContent = `${nama} JKT48`;
      document.getElementById("badge").textContent = data.sousenkyo || "Active";

      document.getElementById("live-date").textContent = formattedDate;
      document.getElementById("live-time").textContent = `${formattedStartTime}`;
      document.getElementById("live-end-time").textContent = `${formattedEndTime}`;
      document.getElementById("live-duration").textContent = calculateDuration(liveStart, liveEnd);
      if (type === "idn"){
        document.getElementById("gift").textContent = `${parseInt(points).toLocaleString('id-ID')} G`;
        document.getElementById("title").innerHTML = `${title}`;
        document.getElementById("bookstar").innerHTML = `Judul Live`;
      } else if (type === "showroom"){
        document.getElementById("gift").textContent = `${gift} G`;
      document.getElementById("title").innerHTML = `${parseInt(points).toLocaleString('id-ID')}`;
      document.getElementById("bookstar").innerHTML = `Excitement Point`;
      }
      
      document.getElementById("viewers").textContent = `${parseInt(view).toLocaleString('id-ID')}`;
    })
    .catch((error) => console.error("Error fetching live details:", error));

  function calculateDuration(start, end) {
  const startDate = new Date(start);
  const endDate = new Date(end);
  const durationMs = endDate - startDate;

  const hours = Math.floor(durationMs / 3600000);
  const minutes = Math.floor((durationMs % 3600000) / 60000);
  const seconds = Math.floor((durationMs % 60000) / 1000);

  if (hours > 0) {
    return `${hours} Jam ${minutes} Menit ${seconds > 0 ? seconds + " Detik" : ""}`.trim();
  } else if (minutes > 0) {
    return `${minutes} Menit ${seconds > 0 ? seconds + " Detik" : ""}`.trim();
  } else {
    return `${seconds} Detik`;
  }
}
});
    </script>
        <script src="../script/main.js"></script>
        <script src="../script/live.js"></script>
</body>
</html>