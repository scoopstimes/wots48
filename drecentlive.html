<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JEKATE48 fanmade Website</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="/assets/css/home.css" rel="stylesheet">
    <link rel="icon" href="/assets/css/image/favlogo.png" />
        <link rel="stylesheet" href="./css/style.css" />
    <meta name="author" content="JEKATE48">
    <meta property="og:title" content="JEKATE48">
    <meta property="og:image:height" content="961">
    <meta property="og:image:width" content="1905">
    <meta property="og:type" content="website">
    <meta property="og:image"
        content="https://cdn.discordapp.com/attachments/989168672708919317/1312702801561784430/jekate.png?ex=674d7540&is=674c23c0&hm=9ea5ecf4eb8348721762f134b4a30affbb5adcf3020bbb79b46a830dc1266520&">
    <meta property="og:title" content="JEKATE48">
    <meta name="description" content="EXPERIENCE THE MAGIC OF JKT48, ANYTIME, ANYWHERE">
    <meta property="og:description" content="EXPERIENCE THE MAGIC OF JKT48, ANYTIME, ANYWHERE">
            <link href='https://fonts.googleapis.com/css?family=Quicksand' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Zen Maru Gothic' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Barlow Condensed' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.3.67/css/materialdesignicons.min.css">
    <style>
        
        .container {
            padding: 1rem;
        }
        .header img {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }
        .profile {
            display: flex;
            align-items: center;
            margin-top: 1rem;
        }
        .profile img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 50%;
            margin-right: 1rem;
        }
        .profile h1 {
            font-size: 1.5rem;
            margin: 0;
        }
        .badge {
            background-color: #6a11cb;
            padding: 0.25rem 0.5rem;
            border-radius: 8px;
            color: #fff;
            font-size: 0.8rem;
        }
        .details, .duration {
            margin-top: 1.5rem;
            background-color: #1e1e1e;
            padding: 1rem;
            border-radius: 8px;
        }
        .details h2, .duration h2 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        .stats {
            margin-top: 0.5rem;
        }
        .stats h3 {
            margin: 0.5rem 0;
            font-size: 1rem;
        }
        footer {
            display: flex;
            justify-content: space-around;
            margin-top: 2rem;
            background-color: #1e1e1e;
            padding: 1rem;
            border-radius: 8px;
        }
        footer a {
            text-decoration: none;
            color: #fff;
            font-size: 1rem;
        }
    </style>
</head>
<body>
          <nav>
                <div class="navbar-container">

                                 <button class="buttongoweb" onclick="goToLink('/home')">
                                         <div class="navbar-box" ontouchstart="addOverlayNavbar(event)" ontouchend="removeOverlayNavbar(event)" ontouchcancel="removeOverlayNavbar(event)">
                                                 <div class="overlay-navbar"></div>
                                                 <span class="mdi mdi-home"></span>
                                                 <h1>Home</h1>
                                         </div>
                                 </button>
                       <div class="navbar-box" ontouchstart="addOverlayNavbar(event)" ontouchend="removeOverlayNavbar(event)" ontouchcancel="removeOverlayNavbar(event)">
                          <div class="overlay-navbar"></div>
                          <span class="mdi mdi-history active" style="color: #white;background: #6C6C6C80;
                                border-radius: 50%;
                                width: 25px;
                                height: 25px;"></span>
                          <h1>Recent</h1>

                        </div>

                       <button class="buttongoweb" onclick="goToLink('/member')"><div class="navbar-box"ontouchstart="addOverlayNavbar(event)" ontouchend="removeOverlayNavbar(event)" ontouchcancel="removeOverlayNavbar(event)">                                                        <div class="overlay-navbar"></div>
                                <span class="mdi mdi-account-group"></span>
                                <h1>Member</h1>
                        </div>
                       </button>
                       <button class="buttongoweb" onclick="goToLink('/news')"><div class="navbar-box"ontouchstart="addOverlayNavbar(event)" ontouchend="removeOverlayNavbar(event)" ontouchcancel="removeOverlayNavbar(event)">                                                        <div class="overlay-navbar"></div>
                                <span class="mdi mdi-newspaper-variant"></span>
                                <h1>News</h1>
                        </div>
                       </button>


                       <button class="buttongoweb" onclick="goToLink('/event')"><div class="navbar-box"ontouchstart="addOverlayNavbar(event)" ontouchend="removeOverlayNavbar(event)" ontouchcancel="removeOverlayNavbar(event)">                                                        <div class="overlay-navbar"></div>
                                <span class="mdi mdi-clipboard-text-clock"></span>
                                <h1>Theather</h1>
                        </div>
                        
                </div>
        </nav>
<div  style="padding: 1rem;">
        <div class="header">
            <img id="header-img" src="https://via.placeholder.com/800x200" alt="Header Image" style="width: 100%; height: auto; border-radius: 8px;">
        </div>

        <div class="profile" style="display: flex; align-items: center; margin-top: 1rem;">
            <img id="profile-img" src="https://via.placeholder.com/80" alt="Member Profile" style="width: 80px; height: 80px; object-fit: cover; border-radius: 50%; margin-right: 1rem;">
            <div>
                <h1 id="member-name" style="font-size: 1.5rem; margin: 0;">Loading...</h1>
                <span class="badge" id="badge" style="background-color: #6a11cb; padding: 0.25rem 0.5rem; border-radius: 8px; color: #fff; font-size: 0.8rem;">Loading...</span>
                <p id="member-status">Loading...</p>
            </div>
        </div>

        <div class="duration" style="margin-top: 1.5rem; background-color: #1e1e1e; padding: 1rem; border-radius: 8px;background: gray;">
            <h2 id="live-date" style="font-size: 1.1rem; margin-bottom: 0.5rem;">Loading...</h2>
            <p id="live-time">Loading...</p>
            <h2 id="live-duration" style="font-size: 1.1rem; margin-bottom: 0.5rem;">Loading...</h2>
        </div>

        <div class="details" style="margin-top: 1.5rem; background-color: #1e1e1e; padding: 1rem; border-radius: 8px;background: gray;">
            <h2 style="font-size: 1.1rem; margin-bottom: 0.5rem;">üîç Detail</h2>
            <div class="stats" style="margin-top: 0.5rem;">
                <h3 id="gift" style="margin: 0.5rem 0; font-size: 1rem;">üéÅ Gift: Loading...</h3>

                <h3 id="viewers" style="margin: 0.5rem 0; font-size: 1rem;">üëÄ Viewer: Loading...</h3>

            </div>
        </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const urlParams = new URLSearchParams(window.location.search);
            const liveId = urlParams.get("id");
            const liveStart = urlParams.get("start");
            const liveEnd = urlParams.get("end");
            const gift = urlParams.get("gift");
            const view = urlParams.get("view");
            const nama = urlParams.get("nama");
            const image = urlParams.get("image");

            // Fetch live details based on ID
            fetch(`https://api.crstlnz.my.id/api/live-details/${liveId}`)
                .then(response => response.json())
                .then(data => {
                    document.getElementById("header-img").src = data.headerImage || "https://via.placeholder.com/800x200";
                    document.getElementById("profile-img").src = `${image}` || "https://via.placeholder.com/80";
                    document.getElementById("member-name").textContent = `${nama}`;
                    document.getElementById("badge").textContent = data.sousenkyo || "No Sousenkyo";
                    document.getElementById("member-status").textContent = data.status || "No Status";
                    document.getElementById("live-date").textContent = new Date(liveStart).toLocaleDateString("id-ID");
                    document.getElementById("live-time").textContent = `Mulai pada: ${new Date(liveStart).toLocaleTimeString("id-ID")}`;
                    document.getElementById("live-duration").textContent = `Durasi: ${calculateDuration(liveStart, liveEnd)}`;
                    document.getElementById("gift").textContent = `üéÅ Gift: ${gift} G`;
                    
                    document.getElementById("viewers").textContent = `üëÄ Viewers: ${view} viewers`;
                    
                })
                .catch((error) => console.error("Error fetching live details:", error));

            function calculateDuration(start, end) {
                const startDate = new Date(start);
                const endDate = new Date(end);
                const durationMs = endDate - startDate;

                const hours = Math.floor(durationMs / 3600000);
                const minutes = Math.floor((durationMs % 3600000) / 60000);

                return hours > 0 ? `${hours} Jam ${minutes} Menit` : `${minutes} Menit`;
            }
        });
    </script>
</body>
</html>